<!DOCTYPE html>
<html>
  <head>
    <title>Version control with   Git &amp; GitHub</title>
    <meta charset="utf-8">
    <meta name="author" content="Mine Çetinkaya-Rundel &amp; Colin Rundel" />
    <meta name="date" content="2018-06-24" />
    <link rel="stylesheet" href="../slides.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Version control with <br> Git &amp; GitHub
## Reproducible Computing <br> @ ISBA 2018
### Mine Çetinkaya-Rundel &amp; Colin Rundel
### June 24, 2018

---


class: center, middle

# Version control

---

## What is version control?

Version control is a system that records changes to a file or set of files over time so that you can recall specific versions later.

---

## Bad

&lt;img src="img/phd_comics_vc.gif" height="465px" /&gt;

&lt;br&gt;&lt;br&gt;

&lt;font size="3"&gt;Source: Piled Higher and Deeper by Jorge Cham, http://www.phdcomics.com.&lt;/font&gt;

---

## Good

~~~
    2013-10-14_manuscriptFish.doc
    2013-10-30_manuscriptFish.doc
    2013-11-05_manusctiptFish_intitialRyanEdits.doc
    2013-11-10_manuscriptFish.doc
    2013-11-11_manuscriptFish.doc
    2013-11-15_manuscriptFish.doc
    2013-11-30_manuscriptFish.doc
    2013-12-01_manuscriptFish.doc
    2013-12-02_manuscriptFish_PNASsubmitted.doc
    2014-01-03_manuscriptFish_PLOSsubmitted.doc
    2014-02-15_manuscriptFish_PLOSrevision.doc
    2014-03-14_manuscriptFish_PLOSpublished.doc
~~~

---

## Better - Saving everything together at once

Everytime you make a save, you zip the entire directory that your project files are in and save it with a date.

---

## Best - Version Control

&lt;center&gt;
&lt;img src="img/repo.png" width="600px" /&gt;
&lt;/center&gt;

&lt;br&gt;&lt;br&gt;

&lt;font size="3"&gt;Source: https://github.com/mine-cetinkaya-rundel/make-research-repro-unc-psy831&lt;/font&gt;

---

## Version control systems

- Start with a base version of the document, save just the changes you made at each step of the way.
- Think of it as a tape: if you rewind the tape and start at the base document, then you can play back each change and end up with your latest version.
&lt;center&gt;
&lt;img src="img/play-changes.png" width="400px" /&gt;
&lt;/center&gt;
- "Playing back" different sets of changes onto the base document and getting different versions of the document.
&lt;center&gt;
&lt;img src="img/merge.png" height="200px" /&gt;
&lt;/center&gt;

&lt;font size="3"&gt;Source: [Software Carpentry](https://software-carpentry.org/).&lt;/font&gt;

---

## Git/GitHub

- Easy to set up
- Integrated with RStudio
- GitHub's strong community: your colleagues are probably already there
- Provides tools to help enhance collaboration
- A common location to share your work

---

## Commits

&lt;center&gt;
&lt;img src="img/commits.png" width="800px" /&gt;
&lt;/center&gt;

---

## Diff

&lt;center&gt;
&lt;img src="img/diff.png" width="900px" /&gt;
&lt;/center&gt;

---

class: center, middle

# Git in GitHub

---

## GitHub

If you don't have a GitHub account

- Go to github.com
- Sign up with a username, email, and password

---

## Username advice

- Incorporate your actual name! People like to know who they’re dealing with. Also makes your username easier for people to guess or remember.
- Reuse your username from other contexts, e.g., Twitter or Slack. But, of course, someone with no GitHub activity will probably be squatting on that.
- Pick a username you will be comfortable revealing to your future boss.
- Shorter is better than longer.
- Be as unique as possible in as few characters as possible. In some settings GitHub auto-completes or suggests usernames.
- Make it timeless. Don’t highlight your current university, employer, or place of residence.
- Avoid words laden with special meaning in programming. In my first inept efforts to script around the GitHub API.

---

## Overview

In this activity you are going to learn how to collaborate using Github.  With a partner you will learn some basics which allow you to share and edit files on Github. 

1. Create a git repository hosted at GitHub
2. Build `README.md` file 
3. Commit changes to repository
3. Collaborate by forking and editing partners file
4. Explore Github features: graphs, diff, blame, ect.

---

## Create a repository with a README.md file

**Step 1**: First we are going to create a repository within our Github user account. 

1. Go to your Github profile. The url should be [http://github/your-user-name]().
2. Create a new Github repository, click the green "new" button, under the repositories tab.
3. Name your repository `work-organization-your-name`
4. In the details write "tips to organizing research".
5. Click the initiate a `README.md file` option. 

---

## So far

-  A **repository** is a directory (folder) that houses both the files of a project AND the git history of the project.
-  Once the repository is created you will be directed to the repository page which now has its own web address. 
-  Each repository on Github has a unique url so you can easily share. 
-  The git history is a detailed history of all the changes made to that file.  One of the features of using Github is the ability to view your repository history which are displayed in the Graphs section of your Github repository page. 
-  At this point in the git history of your `work-organization-your-name` repository there is only one commit.

---

## Edit the `README.md` file

1.  Go back to the `work-organization-your-name` repository main page. Click on `README.md`, then click "edit this file". Add the following information into the `readme.md` file:
    -  Name?
    -  What kind of scientist do you you tell people you are at dinner parties?
    -  In the past month, what are the three main activities you have been doing at work?
    -  What are the three most important tools/strategies you use for organizing your work?

*tip*:  Notice that you can use markdown syntax. Use [this guide](https://help.github.com/articles/markdown-basics/) for Github's flavor of Markdown. Use the "Preview" button to view the formatting of your readme.md file. 

---

## Commit

- **Commit** takes a snap shot of your project. Each commit includes a commit message that concisely defines changes made or project state at the time of the commit. 

1. Summarize the changes that you have made in 50 characters or less and click the green "commit button". 
2. Check out the git history.  You should now see two commits.

---

## Collaborate

Now it is time to collaborate with your partner.  Navigate to your partner's repository by typing the url directly into your address bar. In order to edit someone else's repository you usually follow this simplified work flow: 

1. Fork their repository to your user account 
2. Make edits and commit 
3. Create a pull request that merges your changes into their repository. 

*tip*: Depending on the project there are variations on the above work flow. Often the rules for contributing to a project are outlined in a file called `CONTRIBUTING.md` within the repository. One of the more often used works flows is [Github Flow](https://guides.github.com/introduction/flow/). 

---

## Forking

- **Forking** is creating a copy of a git repository into your own account.  
-  Forking allows you to make changes to a repository without affecting the main repository of the project.  
-  This is one of the most exciting aspects of Github - you essentially encouraged to copy and play with anyone's code! 

--

1.  To fork your partner's repository click the "fork" button in the top left hand part of your screen.  
2.  When it asks where you would like to fork the repository, choose your user account (if you are new to Github, this should be the only option).

---

## Make edits and commit

- You should now have a copy of your partners repository, `work-organization-their-name`. 
-  Github keeps track of the entire git history of the project and all forked copies made of the project. 

1. Edit your partners repository by clicking the edit button.  
2. Paste in the answers to your questions under theirs and make a commit. 

---

## Create a pull request

- A **pull request** is the final step in the collaboration process, essentially asking if the edits made to your copy can be incorporated into another repository. 

1.  Make sure you are in your copy of your partner's repository by looking at the url - your user name should preface the repository name.  
2.  Click the green "New Pull Request" button. You will get an overview of the changes you made to the repository. 
3.  Click the "Create a Pull Request" button to continue the pull request. Your partner will now get a notification of a pull request on their main repository, as will you if your partner made changes. 
4.  Go ahead and accept this pull request.
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
  }
});
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
